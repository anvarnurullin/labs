<!DOCTYPE html>
<html>
  <head>
    <title>XML-XSL</title>
    <style>
      button {
        width: 150px;
        height: 40px;
        font-size: 16px;
        border-radius: 5px;
        border: 1px solid gray;
        background-color: white;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <h4 id="author" style="display: none" title="GossJS">Анвар Нуруллин</h4>
    <h2>Анвар Нуруллин, группа P4108</h2>
    <div class="container">
      <button id="xml-xsl1"><a href="mathml.xml">Задание 1</a></button>
      <button id="xml-xsl2"><a href="svg.xml">Задание 2</a></button>
    </div>
    <script>
      document
        .getElementById("xml-xsl1")
        .addEventListener("click", function () {
          let xsltProcessor = new XSLTProcessor();
          let xslFile = new XMLHttpRequest();
          xslFile.open("GET", "mathml.xsl", false);
          xslFile.send(null);
          xsltProcessor.importStylesheet(xslFile.responseXML);

          let xmlFile = new XMLHttpRequest();
          xmlFile.open("GET", "mathml.xml", false);
          xmlFile.send(null);

          let resultDocument = xsltProcessor.transformToDocument(
            xmlFile.responseXML
          );

          let newTab = window.open();
          newTab.document.write(
            new XMLSerializer().serializeToString(resultDocument)
          );
          newTab.focus();
        });

      document
        .getElementById("xml-xsl2")
        .addEventListener("click", function () {
          let xsltProcessor = new XSLTProcessor();
          let xslFile = new XMLHttpRequest();
          xslFile.open("GET", "svg.xsl", false);
          xslFile.send(null);
          xsltProcessor.importStylesheet(xslFile.responseXML);

          let xmlFile = new XMLHttpRequest();
          xmlFile.open("GET", "svg.xml", false);
          xmlFile.send(null);

          let resultDocument = xsltProcessor.transformToDocument(
            xmlFile.responseXML
          );

          let newTab = window.open();
          newTab.document.write(
            new XMLSerializer().serializeToString(resultDocument)
          );
        });
    </script>
  </body>
</html>
